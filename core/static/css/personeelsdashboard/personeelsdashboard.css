:root{
  --pd-active-border: #2563eb; /* blauw */
  --pd-orange: #f59e0b;

  /* Alpha varianten in hex (geen rgba) */
  --pd-orange-soft: #f59e0b2e;   /* ~18% */
  --pd-blue-soft:   #2563eb33;   /* ~20% */
  --pd-blue-soft-2: #2563eb4d;   /* ~30% */

  --pd-green: #22c55e;
  --pd-green-soft-1: #22c55e40;  /* ~25% */
  --pd-green-soft-2: #22c55e73;  /* ~45% */
  --pd-green-ring:   #22c55e2e;  /* ~18% */

  --pd-card-blue:  #3b82f610;    /* subtle */
  --pd-card-green: #22c55e0d;    /* subtle */
}

/* --- Bestaande basis (gelaten waar mogelijk) --- */
.form h3 { text-align: center; }
*:focus-visible { outline: none !important; }

/* =========================================================
   Layout
   ========================================================= */
.personeelsdashboard-wrap { width: 100%; }

.pd-main-grid{
  margin-top: 14px;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
  gap: 14px;
  align-items: start;
}

@media (max-width: 980px){
  .pd-main-grid{ grid-template-columns: 1fr; }
}

.pd-controlbar{
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 10px;
  align-items: center;
}

/* =========================================================
   Legenda (Top card)
   ========================================================= */
.pd-legend{
  margin-top: 4px;
  padding-top: 4px;

  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  align-items: start;
}

.pd-legend-col{
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.pd-legend-right{
  justify-self: end;           /* rechts uitlijnen in de card */
  text-align: left;            /* tekst blijft netjes rechts van swatch */
}

.pd-legend-row{
  display: grid;
  grid-template-columns: 34px 1fr;
  gap: 10px;
  align-items: center;
}

.pd-legend-text{
  color: var(--muted);
  font-weight: 700;
  font-size: 0.9rem;
  line-height: 1.2;
}

/* De “slot” mini-rectangles */
.pd-legend-swatch{
  width: 34px;
  height: 18px;
  border-radius: 7px;
  border: 2px solid #ffffff24;
  box-sizing: border-box;
}

/* Oranje beschikbaar */
.pd-legend-swatch--available{
  background: var(--pd-orange);
  border-color: var(--pd-orange);
  box-shadow: 0 0 0 4px var(--pd-orange-soft);
}

/* Oranje delete (streepjes + kruis) */
.pd-legend-swatch--delete{
  position: relative;
  overflow: hidden;
  background:
    repeating-linear-gradient(
      45deg,
      #f59e0b22,
      #f59e0b22 6px,
      #f59e0b55 6px,
      #f59e0b55 12px
    );
  border: 2px solid var(--pd-orange);
}

.pd-legend-swatch--delete::before,
.pd-legend-swatch--delete::after{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 160%;
  height: 2px;
  background: var(--pd-orange);
  border-radius: 2px;
  transform-origin: center;
}

.pd-legend-swatch--delete::before{
  transform: translate(-50%, -50%) rotate(20deg);
}
.pd-legend-swatch--delete::after{
  transform: translate(-50%, -50%) rotate(-20deg);
}

/* Groen concept (streepjes) */
.pd-legend-swatch--concept{
  background:
    repeating-linear-gradient(
      45deg,
      var(--pd-green-soft-1),
      var(--pd-green-soft-1) 6px,
      var(--pd-green-soft-2) 6px,
      var(--pd-green-soft-2) 12px
    );
  border-color: var(--pd-green);
  box-shadow: 0 0 0 4px var(--pd-green-ring);
}

/* Groen gepubliceerd (vol) */
.pd-legend-swatch--published{
  background: #22c55ee6;
  border-color: #22c55eff;
  box-shadow: 0 0 0 4px var(--pd-green-ring);
}

/* Mobile: legenda onder elkaar */
@media (max-width: 980px){
  .pd-legend{
    grid-template-columns: 1fr;
  }
  .pd-legend-right{
    justify-self: start;
  }
}


.pd-daypicker{
  justify-self: start;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

.pd-select{
  width: 100%;
  background: var(--button-color) !important;
}

.pd-weekcenter{
  justify-self: center;
  text-align: center;
}

.pd-right-spacer{
  justify-self: end;
}

.availability-daterange{
  margin-top: 8px;
  color: var(--muted);
  font-weight: 600;
  text-align: center;
}

.pd-subtitle{
  color: var(--muted);
  font-size: 0.95rem;
}

.search-bar{ margin: 0 0 12px 0; }

/* =========================================================
   Matrix
   ========================================================= */
.matrix-wrap{
  width: 100%;
  overflow-x: auto;
  overflow-y: visible;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

table.matrix{
  width: 100%;
  table-layout: fixed;
  border-collapse: collapse;
  background: var(--panel, var(--bg));
  border: 1px solid var(--border);
}

table.matrix thead th,
table.matrix tbody td{
  background: transparent;
}

table.matrix th,
table.matrix td{
  padding: 10px 10px;
  vertical-align: middle;
  text-align: center;
  border-bottom: 1px solid var(--border);
}

table.matrix thead th{
  font-weight: 800;
  border-bottom: 1px solid var(--border);
}

.col-group { width: 46%; }
.col-name  { width: 30%; }
.col-slot  { width: 8%; }

.cell-wrap{
  text-align: left;
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  word-break: break-word;
  overflow-wrap: anywhere;
  hyphens: auto;
  line-height: 1.2;
  font-weight: 600;
}

.no-vlines{
  border-left: none !important;
  border-right: none !important;
}

.slot-head,
.slot-cell{
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
}

table.matrix td.slot-cell{ padding: 6px; }
table.matrix th.slot-head{ padding: 8px 6px; }

/* =========================================================
   Sort badges
   ========================================================= */
.slot-badge{
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;

  padding: 8px 10px;
  border-radius: 12px;

  transition: background .2s ease, border-color .2s ease;
  user-select: none;
  white-space: nowrap;
  font-weight: 700;
}

.slot-badge .slot-count{
  color: var(--muted);
  font-size: 0.9rem;
  font-weight: 700;
}

.slot-badge.active{
  border-color: var(--accent);
  background: var(--button-hover);
}

/* =========================================================
   Availability rectangles
   ========================================================= */
.avail-rect{
  width: 100%;
  height: 26px;
  border-radius: 7px;
  margin: 0;
  box-sizing: border-box;
  background: transparent;
  border: 2px solid #ffffff24; /* i.p.v. rgba(255,255,255,0.14) */
  position: relative;
}

.avail-rect.available{
  background: var(--pd-orange);
  border-color: var(--pd-orange);
  box-shadow: 0 0 0 4px var(--pd-orange-soft);
  cursor: pointer;
}

/* Belangrijk: geselecteerd moet altijd een blauwe solide border hebben,
   ongeacht of het slot accepted/concept/delete is */
.avail-rect.is-selected{
  border: 2px solid var(--pd-active-border) !important;
  box-shadow:
    0 0 0 4px var(--pd-blue-soft-2),
    0 0 0 2px var(--pd-blue-soft) inset;
}

/* Concept (draft upsert) */
.avail-rect.is-concept{
  background:
    repeating-linear-gradient(
      45deg,
      var(--pd-green-soft-1),
      var(--pd-green-soft-1) 6px,
      var(--pd-green-soft-2) 6px,
      var(--pd-green-soft-2) 12px
    );
  border-color: var(--pd-green) !important;
  box-shadow: 0 0 0 4px var(--pd-green-ring);
  cursor: pointer;
}

/* Accepted (published) */
.avail-rect.is-accepted{
  background: #22c55ee6; /* ~90% */
  border-color: #22c55eff !important;
  box-shadow: 0 0 0 4px var(--pd-green-ring);
  cursor: pointer;
}

/* Optional: bestaande highlight voor has-shift */
.avail-rect.has-shift{
  outline: 2px solid var(--pd-active-border);
  outline-offset: 2px;
}

.avail-rect.is-delete-draft{
  background:
    repeating-linear-gradient(
      45deg,
      #f59e0b22,
      #f59e0b22 6px,
      #f59e0b55 6px,
      #f59e0b55 12px
    );
  border: 2px solid var(--pd-orange) !important;
  position: relative;
  overflow: hidden; /* kruis blijft binnen de rect */
  cursor: pointer;
}

/* hoek-tot-hoek kruis */
.avail-rect.is-delete-draft::before,
.avail-rect.is-delete-draft::after{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 160%;              /* langer dan slot, zodat hij de hoeken raakt */
  height: 2px;
  background: var(--pd-orange);
  border-radius: 2px;
  transform-origin: center;
  pointer-events: none;
}

/* rechtsboven -> linksonder ( / of \ afhankelijk van richting ) */
.avail-rect.is-delete-draft::before{
  transform: translate(-50%, -50%) rotate(15deg);
}

/* rechtsonder -> linksboven */
.avail-rect.is-delete-draft::after{
  transform: translate(-50%, -50%) rotate(-15deg);
}

.avail-rect.is-selected{
  border: 2px solid var(--pd-active-border) !important;
  box-shadow:
    0 0 0 4px var(--pd-blue-soft-2),
    0 0 0 2px var(--pd-blue-soft) inset;
}

/* =========================================================
   Action panel
   ========================================================= */
.pd-actionpanel{
  display: flex;
  flex-direction: column;
}

.pd-ap-head{ margin-bottom: 12px; }
.pd-actionpanel > .crud-divider{ margin: 0 0 14px 0; }
.pd-actionpanel .pd-ap-section{ margin-top: 14px; }
.pd-actionpanel .pd-ap-section:first-of-type{ margin-top: 0; }

.pd-ap-head{
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 8px;
}

.pd-ap-summary{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.pd-pill{
  background: #ffffff0f;
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 6px 10px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
}

button.pd-pill{
  appearance: none;
  -webkit-appearance: none;
  cursor: pointer;
  color: inherit;
  font: inherit;
}

.pd-pill.is-active{
  border-color: var(--accent);
  background: var(--button-hover);
}

.pd-pill-label{
  color: var(--muted);
  font-weight: 700;
  font-size: 0.85rem;
}

.pd-pill-value{
  font-weight: 900;
}

.pd-pill-row{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.pd-selection-period-row{
  margin-top: 8px;
}

/* ---------------------------------------------------------
   Location + period layout
--------------------------------------------------------- */
.pd-loc-panel{
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 10px;
  background: #ffffff05;
}

.pd-loc-top{
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 10px;
}

.pd-loc-title{
  font-weight: 900;
  flex: 1 1 auto;
  min-width: 0;

  white-space: nowrap;
  word-break: break-word;
  overflow-wrap: anywhere;
  hyphens: auto;

  overflow: visible;
  text-overflow: clip;
}

.pd-loc-period-pills{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.pd-period-panel{
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.pd-period-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

.pd-period-title{
  font-weight: 900;
  font-style: italic;
  text-align: left;
}

.pd-period-count{
  font-weight: 900;
}

.pd-task-block{
  border: none !important;
  background: transparent !important;
  padding: 10px;
}

.pd-task-block-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 8px;
}

.pd-task-block-name{
  font-weight: 900;
  color: var(--muted);
}

.pd-task-block-count{
  font-weight: 900;
  color: var(--muted);
}

.pd-ap-section{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pd-sec-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

.pd-sec-title{
  margin: 0;
  font-size: 1rem;
}

.pd-sec-meta{
  color: var(--muted);
  font-weight: 700;
  font-size: 0.9rem;
}

.pd-list{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pd-empty{
  padding: 12px;
  border: 1px dashed var(--border);
  border-radius: 12px;
  color: var(--muted);
  font-weight: 700;
  background: #ffffff08;
}

/* =========================================================
   Shift cards (compact layout)
   ========================================================= */
.pd-item{
  border: 1px solid var(--border);
  background: #ffffff08;
  border-radius: 14px;
  padding: 10px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  gap: 8px;
}

.pd-item--assigned{
  background: var(--pd-card-blue);
}

.pd-item--existing{
  background: var(--pd-card-green);
}

.pd-item-main{
  min-width: 0;
}

.pd-item-actions{
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: nowrap;
  width: 100%;
}

.pd-item-actions select{
  flex: 1 1 0;
  min-width: 0;
}

.pd-item-actions .icon-btn,
.pd-item-actions .pd-icon-btn{
  flex: 0 0 auto;
}

.pd-item-actions .icon-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
}

.pd-mini-select{
  min-width: 0;
}

.pd-icon-btn{
  padding: 8px 10px;
  border-radius: 12px;
}

/* Nieuw: pill links, tekst rechts (2 regels).
   Dit vervangt de oude "pill bovenaan" layout. */
.pd-shift-card{
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.pd-shift-pill-wrap{
  flex: 0 0 auto;
  display: flex;
  align-items: stretch;
}

.pd-shift-text{
  flex: 1 1 auto;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.pd-shift-line1{
  font-weight: 900;
  line-height: 1.15;
  word-break: break-word;
}

.pd-shift-line2{
  color: var(--muted);
  font-weight: 800;
  font-size: 0.9rem;
  line-height: 1.15;
}

/* Status pills (hex only) */
.pd-status-pill{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 6px 10px;        /* iets hoger zodat hij 2 regels mooi ondersteunt */
  border-radius: 999px;
  font-weight: 900;
  font-size: 0.78rem;
  text-transform: lowercase;
  border: 1px solid transparent;
  white-space: nowrap;
}

/* beschikbaar */
.pd-status-pill--available{
  background: var(--pd-orange);
  border-color: var(--pd-orange);
  color: #111827;
}

/* concept */
.pd-status-pill--concept{
  background: #86efac;
  border-color: #86efac;
  color: #052e16;
}

/* actief */
.pd-status-pill--active{
  background: #16a34a;
  border-color: #16a34a;
  color: var(--text-button);
}

/* verwijderen */
.pd-status-pill--delete{
  background: var(--pd-orange);
  border-color: var(--pd-orange);
  color: var(--text-button);
}

/* in bewerking: transparant */
.pd-status-pill--editing{
  background: transparent;
  border-color: var(--pd-active-border);
  color: var(--pd-active-border);
}

.pd-task-items{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* staging */
.pd-staging{
  margin-bottom: 10px;
  border: none !important;
  border-radius: 14px;
  padding: 10px;
  background: transparent !important;
}

.pd-staging-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 8px;
}

.pd-staging-title-strong{
  font-weight: 900;
}

.pd-staging-count{
  font-weight: 900;
}

.pd-ap-actions{
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
}

@media (max-width: 720px){
  .pd-controlbar{
    grid-template-columns: 1fr;
    justify-items: stretch;
    gap: 12px;
  }

  .pd-weekcenter{
    justify-self: start;
    text-align: left;
  }

  .availability-daterange{
    text-align: left;
  }

  .pd-right-spacer{ display: none; }
}