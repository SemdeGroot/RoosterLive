{% load static %}
<style>
  html.splash-lock { overflow: hidden; }
  #app-splash{
    position:fixed; inset:0;
    background:var(--bg, #0d131b);
    display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    z-index:2147483647;
    transition:opacity .28s ease, visibility .28s ease;
  }
  #app-splash img{
    width:min(96px,40vw);
    opacity:.9;
    -webkit-user-drag:none; user-select:none;
  }
  #splash-footer{
    position:absolute;
    bottom:36px;
    width:100%;
    text-align:center;
    font-size:.9rem;
    color:rgba(255,255,255,.5);
    font-weight:500;
  }
  .splash--hide{ opacity:0; visibility:hidden; pointer-events:none; }
  body{ background:var(--bg, #0d131b); }
</style>

<div id="app-splash" role="status" aria-label="Bezig met laden">
  <img src="{% static 'img/app_icon_trans-512x512.png' %}" alt="Apotheek Jansen">
  <div id="splash-footer">
    &copy; {% now "Y" %} Apotheek Jansen Amersfoort
  </div>
</div>

<script>
  document.documentElement.classList.add('splash-lock');
  const MIN_MS = 2000;
  const t0 = performance.now();

  function hideSplash(){
    const wait = Math.max(0, MIN_MS - (performance.now()-t0));
    setTimeout(()=>{
      const s = document.getElementById('app-splash');
      if(s){ s.classList.add('splash--hide'); setTimeout(()=>s.remove(), 320); }
      document.documentElement.classList.remove('splash-lock');
    }, wait);
  }
  document.addEventListener('DOMContentLoaded', hideSplash);
</script>